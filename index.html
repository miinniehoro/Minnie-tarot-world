<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÑ‡∏û‡πà‡∏¢‡∏¥‡∏õ‡∏ã‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å 4 ‡πÉ‡∏ö</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        :root {
            --bg-navy: #1a237e;
            --gold: #ffd700;
            --white: #ffffff;
            --light-blue: #e3f2fd;
            --dark-header: #212121;
        }

        body {
            font-family: 'Sarabun', sans-serif;
            background-color: var(--bg-navy);
            color: white;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 { font-size: 20px; color: var(--gold); margin: 20px 0; }

        /* ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà */
        #selection-screen { width: 100%; max-width: 500px; text-align: center; padding: 10px; }
        .card-deck {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            padding: 10px;
        }
        .card-back {
            aspect-ratio: 2/3.2;
            background: linear-gradient(135deg, #283593, #3f51b5);
            border: 2px solid var(--gold);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        .card-back.hidden { visibility: hidden; opacity: 0; }

        /* Loading */
        #loading-screen { display: none; text-align: center; margin-top: 50px; }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--gold);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° */
        .btn-group { display: none; gap: 10px; margin: 15px 0; }
        button {
            padding: 10px 20px; border-radius: 20px; border: none;
            font-family: 'Sarabun'; font-weight: bold; cursor: pointer;
        }
        .btn-capture { background: #ad1457; color: white; }
        .btn-reload { background: #5c6bc0; color: white; }

        /* === ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡∏∏‡∏õ 4 ‡πÉ‡∏ö‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô (‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏Ñ‡∏õ) === */
        #captureArea {
            display: none;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
            width: 95%;
            max-width: 600px;
            background: var(--bg-navy);
            padding: 15px 10px;
            border-radius: 10px;
        }
        .summary-card {
            background: white;
            padding: 4px;
            border-radius: 5px;
            color: #333;
            text-align: center;
        }
        .summary-card img { width: 100%; border-radius: 3px; aspect-ratio: 2/3.5; object-fit: cover; }
        .summary-card .pos { font-size: 9px; font-weight: bold; color: #b22222; margin-bottom: 2px; }
        .summary-card h3 { font-size: 10px; margin: 3px 0; color: var(--bg-navy); }

        /* === ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏µ‡∏•‡∏∞‡πÉ‡∏ö (‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á‡∏Ç‡∏¢‡∏≤‡∏¢‡πÉ‡∏´‡∏ç‡πà) === */
        #detailArea {
            display: none;
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
            padding-bottom: 100px;
        }
        .detail-row {
            background: var(--light-blue);
            color: #333;
            margin-bottom: 25px;
            border-radius: 0 0 10px 10px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .detail-header {
            background: var(--dark-header);
            color: var(--gold);
            padding: 12px;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
        }
        .detail-content {
            display: flex;
            padding: 15px;
            gap: 15px;
        }
        .detail-img {
            width: 120px;
            height: auto;
            border-radius: 5px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
        }
        .detail-text { flex: 1; }
        .detail-text h4 { margin: 0 0 8px 0; color: var(--bg-navy); font-size: 18px; }
        .detail-text p { margin: 0; font-size: 15px; line-height: 1.5; color: #444; }

        /* ‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏•‡πà‡∏≤‡∏á */
        .bottom-nav {
            position: fixed; bottom: 0; width: 100%;
            background: #fff; display: flex; justify-content: space-around;
            padding: 12px 0; border-top: 2px solid var(--gold);
        }
        .nav-item { color: var(--bg-navy); font-size: 13px; text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

    <h1 id="mainTitle">üîÆ ‡πÑ‡∏û‡πà‡∏¢‡∏¥‡∏õ‡∏ã‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å 4 ‡πÉ‡∏ö üîÆ</h1>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà -->
    <div id="selection-screen">
        <p>‡∏ï‡∏±‡πâ‡∏á‡∏à‡∏¥‡∏ï‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà 4 ‡πÉ‡∏ö</p>
        <p id="counter" style="color: var(--gold); font-size: 20px; font-weight: bold;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß: 0 / 4</p>
        <div class="card-deck" id="deck"></div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î -->
    <div id="loading-screen">
        <div class="loader"></div>
        <p>‡πÑ‡∏û‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢... (5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)</p>
    </div>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô -->
    <div class="btn-group" id="btnGroup">
        <button class="btn-reload" onclick="location.reload()">‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
        <button class="btn-capture" onclick="takeScreenshot()">üì∏ ‡πÅ‡∏Ñ‡∏õ‡∏£‡∏π‡∏õ‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ä‡∏£‡πå‡∏ú‡∏•</button>
    </div>

    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡∏∏‡∏õ (‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô 4 ‡πÉ‡∏ö) -->
    <div id="captureArea"></div>

    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á‡∏¢‡∏≤‡∏ß) -->
    <div id="detailArea"></div>

    <nav class="bottom-nav">
        <a href="#" class="nav-item">üÉè ‡πÑ‡∏û‡πà‡∏¢‡∏¥‡∏õ‡∏ã‡∏µ</a>
        <a href="#" class="nav-item">üì¢ ‡πÅ‡∏ä‡∏£‡πå‡πÄ‡∏ß‡πá‡∏ö</a>
        <a href="#" class="nav-item">üïâÔ∏è ‡∏°‡∏π‡πÄ‡∏ï‡∏•‡∏π</a>
    </nav>

<script>
    const BASE = ""; 
    const positions = ["‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì", "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡∏≤", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô", "‡∏ö‡∏ó‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï"];
    let selectedCount = 0;

    // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏û‡πà (‡∏î‡∏∂‡∏á‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
    const tarotDeck = [
        /* Major Arcana */
        {n:"The Fool",i:"00-TheFool.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà ‡πÉ‡∏™‡∏ã‡∏∑‡πà‡∏≠ ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏à ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô"},
        {n:"The Magician",i:"01-TheMagician.jpg",m:"‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå‡πÅ‡∏£‡∏á ‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡∏Å‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£ ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á"},
        {n:"The High Priestess",i:"02-TheHighPriestess.jpg",m:"‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà ‡∏ï‡πà‡∏≤‡∏á‡∏ù‡πà‡∏≤‡∏¢‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏à‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"},
        {n:"The Empress",i:"03-TheEmpress.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô ‡πÄ‡∏≠‡∏≤‡πÉ‡∏à‡πÉ‡∏™‡πà ‡∏°‡∏µ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß"},
        {n:"The Emperor",i:"04-TheEmperor.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á ‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á ‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏î‡∏π‡πÅ‡∏•"},
        {n:"The Hierophant",i:"05-TheHierophant.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£ ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô"},
        {n:"The Lovers",i:"06-TheLovers.jpg",m:"‡∏£‡∏±‡∏Å‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡∏™‡∏π‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏¢‡πå"},
        {n:"The Chariot",i:"07-TheChariot.jpg",m:"‡∏£‡∏±‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‡πÅ‡∏°‡πâ‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏õ‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ"},
        {n:"Strength",i:"08-Strength.jpg",m:"‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏î‡∏ó‡∏ô ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå"},
        {n:"The Hermit",i:"09-TheHermit.jpg",m:"‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏´‡∏±‡∏ß‡πÉ‡∏à ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô"},
        {n:"Wheel of Fortune",i:"10-WheelOfFortune.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÇ‡∏ä‡∏Ñ‡∏ä‡∏∞‡∏ï‡∏≤"},
        {n:"Justice",i:"11-Justice.jpg",m:"‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏à ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏¢‡∏∏‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô"},
        {n:"The Hanged Man",i:"12-TheHangedMan.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏Ñ‡∏≠‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏≠‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏™‡∏•‡∏∞‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á"},
        {n:"Death",i:"13-Death.jpg",m:"‡∏à‡∏ö‡∏™‡∏¥‡πà‡∏á‡πÄ‡∏Å‡πà‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤"},
        {n:"Temperance",i:"14-Temperance.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ô‡∏µ‡∏õ‡∏£‡∏∞‡∏ô‡∏≠‡∏° ‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏™‡∏°‡∏î‡∏∏‡∏•"},
        {n:"The Devil",i:"15-TheDevil.jpg",m:"‡∏ú‡∏π‡∏Å‡∏û‡∏±‡∏ô‡∏•‡∏∂‡∏Å ‡∏´‡∏•‡∏á‡πÉ‡∏´‡∏• ‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡∏©"},
        {n:"The Tower",i:"16-TheTower.jpg",m:"‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏â‡∏±‡∏ö‡∏û‡∏•‡∏±‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏Å‡∏™‡∏±‡πà‡∏ô‡∏Ñ‡∏•‡∏≠‡∏ô"},
        {n:"The Star",i:"17-TheStar.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏±‡∏á ‡∏Å‡∏≤‡∏£‡πÄ‡∏¢‡∏µ‡∏¢‡∏ß‡∏¢‡∏≤‡∏´‡∏±‡∏ß‡πÉ‡∏à ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏Ñ‡πà‡∏≠‡∏¢‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô"},
        {n:"The Moon",i:"18-TheMoon.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏á‡πÄ‡∏• ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à ‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏Ñ‡∏¥‡∏î‡πÑ‡∏õ‡πÄ‡∏≠‡∏á"},
        {n:"The Sun",i:"19-TheSun.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏™‡∏î‡πÉ‡∏™ ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç"},
        {n:"Judgement",i:"20-Judgement.jpg",m:"‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏≠‡∏î‡∏µ‡∏ï‡∏≠‡∏≤‡∏à‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤"},
        {n:"The World",i:"21-TheWorld.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏•‡∏á‡∏ï‡∏±‡∏ß ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡πÅ‡∏•‡∏∞‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á"},
        /* Wands, Cups, Swords, Pentacles... (‡πÉ‡∏™‡πà‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) */
        {n:"Ace of Wands",i:"Wands01.jpg",m:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏û‡∏ä‡∏ä‡∏±‡πà‡∏ô ‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡∏™‡∏π‡∏á/‡∏™‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà ‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤"},
        {n:"Three of Swords",i:"Swords03.jpg",m:"‡∏≠‡∏Å‡∏´‡∏±‡∏Å ‡πÄ‡∏à‡πá‡∏ö‡∏õ‡∏ß‡∏î ‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏£‡∏±‡∏Å‡∏™‡∏≤‡∏°‡πÄ‡∏™‡πâ‡∏≤/ ‡∏™‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏†‡∏≤‡∏ß‡∏∞‡∏≠‡∏Å‡∏´‡∏±‡∏Å ‡πÇ‡∏î‡∏ô‡∏ó‡∏≥‡∏£‡πâ‡∏≤‡∏¢‡∏à‡∏¥‡∏ï‡πÉ‡∏à ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÇ‡∏î‡∏ô‡∏ô‡∏≠‡∏Å‡πÉ‡∏à‡πÑ‡∏î‡πâ"},
        {n:"Ten of Cups",i:"Cups10.jpg",m:"‡∏£‡∏±‡∏Å‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß/ ‡∏™‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏≤‡∏°‡∏ñ‡∏∂‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤ ‡∏ß‡∏≤‡∏á‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡πÑ‡∏ß‡πâ‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏õ‡∏µ‡πà‡∏¢‡∏°‡∏î‡∏µ"},
        {n:"King of Pentacles",i:"Pentacles14.jpg",m:"‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô/ ‡∏™‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ô‡πÜ‡∏ô‡∏µ‡πâ‡∏ó‡∏∏‡πà‡∏°‡πÄ‡∏ó‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤‡∏°‡∏≤‡∏Å ‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï"}
        // ... (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ö‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏Ñ‡∏∏‡∏ì‡∏Å‡πä‡∏≠‡∏õ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö)
    ];

    function createDeck() {
        const deckDiv = document.getElementById("deck");
        for(let i=0; i<12; i++) {
            const card = document.createElement("div");
            card.className = "card-back";
            card.innerHTML = "‚ú®";
            card.onclick = function() { selectCard(this); };
            deckDiv.appendChild(card);
        }
    }

    function selectCard(el) {
        if (el.classList.contains("hidden")) return;
        el.classList.add("hidden");
        selectedCount++;
        document.getElementById("counter").innerText = `‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß: ${selectedCount} / 4`;
        if (selectedCount === 4) startProcess();
    }

    function startProcess() {
        document.getElementById("selection-screen").style.display = "none";
        document.getElementById("loading-screen").style.display = "block";
        setTimeout(showResults, 5000);
    }

    function showResults() {
        document.getElementById("loading-screen").style.display = "none";
        document.getElementById("btnGroup").style.display = "flex";
        
        const summaryBox = document.getElementById("captureArea");
        const detailBox = document.getElementById("detailArea");
        summaryBox.style.display = "grid";
        detailBox.style.display = "block";

        const picks = [...tarotDeck].sort(() => 0.5 - Math.random()).slice(0, 4);

        picks.forEach((c, i) => {
            // 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô
            summaryBox.innerHTML += `
                <div class="summary-card">
                    <div class="pos">‡πÉ‡∏ö‡∏ó‡∏µ‡πà ${i+1}</div>
                    <img src="${BASE + c.i}">
                    <h3>${c.n}</h3>
                </div>
            `;

            // 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á (‡πÅ‡∏ö‡∏ö‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
            detailBox.innerHTML += `
                <div class="detail-row">
                    <div class="detail-header">‡πÑ‡∏û‡πà‡πÉ‡∏ö‡∏ó‡∏µ‡πà ${i+1} : ${positions[i]}</div>
                    <div class="detail-content">
                        <img src="${BASE + c.i}" class="detail-img">
                        <div class="detail-text">
                            <h4>${c.n}</h4>
                            <p>${c.m}</p>
                        </div>
                    </div>
                </div>
            `;
        });
    }

    async function takeScreenshot() {
        const area = document.getElementById("captureArea");
        const canvas = await html2canvas(area, { backgroundColor: "#1a237e", scale: 2 });
        const image = canvas.toDataURL("image/png");
        
        const link = document.createElement('a');
        link.download = 'tarot-summary.png';
        link.href = image;
        link.click();
    }

    createDeck();
</script>
</body>
</html>
